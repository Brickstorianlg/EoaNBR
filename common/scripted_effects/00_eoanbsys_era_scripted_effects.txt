
EOANB_Technology_Institution_state_Bookmark_Setup = {
  if = {
    limit = { has_idea = post_digital_era }
    set_country_flag = EOANB_Technology_Institution_Enlightenment
    set_country_flag = EOANB_Technology_Institution_Industrialization
    set_country_flag = EOANB_Technology_Institution_Nationalism
    set_country_flag = EOANB_Technology_Institution_Sanitation
    set_country_flag = EOANB_Technology_Institution_Mechanization
    set_country_flag = EOANB_Technology_Institution_Electrification
    set_country_flag = EOANB_Technology_Institution_Mass_Transit
    set_country_flag = EOANB_Technology_Institution_Mass_Marketization
    set_country_flag = EOANB_Technology_Institution_Mass_Media
    set_country_flag = EOANB_Technology_Institution_Feminism
    set_country_flag = EOANB_Technology_Institution_Mass_Production
    set_country_flag = EOANB_Technology_Institution_Dogmatism
    set_country_flag = EOANB_Technology_Institution_Globalization
    set_country_flag = EOANB_Technology_Institution_Green_Revolution
    set_country_flag = EOANB_Technology_Institution_Computing
    set_country_flag = EOANB_Technology_Institution_Environmentalism
    set_country_flag = EOANB_Technology_Institution_Internet
    set_country_flag = EOANB_Technology_Institution_Precision_Agriculture
  }
  else_if = {
    limit = { has_idea = digital_era }
    set_country_flag = EOANB_Technology_Institution_Enlightenment
    set_country_flag = EOANB_Technology_Institution_Industrialization
    set_country_flag = EOANB_Technology_Institution_Nationalism
    set_country_flag = EOANB_Technology_Institution_Sanitation
    set_country_flag = EOANB_Technology_Institution_Mechanization
    set_country_flag = EOANB_Technology_Institution_Electrification
    set_country_flag = EOANB_Technology_Institution_Mass_Transit
    set_country_flag = EOANB_Technology_Institution_Mass_Marketization
    set_country_flag = EOANB_Technology_Institution_Mass_Media
    set_country_flag = EOANB_Technology_Institution_Feminism
    set_country_flag = EOANB_Technology_Institution_Mass_Production
    set_country_flag = EOANB_Technology_Institution_Dogmatism
    set_country_flag = EOANB_Technology_Institution_Globalization
    set_country_flag = EOANB_Technology_Institution_Green_Revolution
    set_country_flag = EOANB_Technology_Institution_Computing
    set_country_flag = EOANB_Technology_Institution_Environmentalism
  }
  else_if = {
    limit = { has_idea = information_era }
    set_country_flag = EOANB_Technology_Institution_Enlightenment
    set_country_flag = EOANB_Technology_Institution_Industrialization
    set_country_flag = EOANB_Technology_Institution_Nationalism
    set_country_flag = EOANB_Technology_Institution_Sanitation
    set_country_flag = EOANB_Technology_Institution_Mechanization
    set_country_flag = EOANB_Technology_Institution_Electrification
    set_country_flag = EOANB_Technology_Institution_Mass_Transit
    set_country_flag = EOANB_Technology_Institution_Mass_Marketization
    set_country_flag = EOANB_Technology_Institution_Mass_Media
    set_country_flag = EOANB_Technology_Institution_Feminism
    set_country_flag = EOANB_Technology_Institution_Mass_Production
    set_country_flag = EOANB_Technology_Institution_Dogmatism
    set_country_flag = EOANB_Technology_Institution_Globalization
    set_country_flag = EOANB_Technology_Institution_Green_Revolution
  }
  else_if = {
    limit = { has_idea = atomic_era }
    set_country_flag = EOANB_Technology_Institution_Enlightenment
    set_country_flag = EOANB_Technology_Institution_Industrialization
    set_country_flag = EOANB_Technology_Institution_Nationalism
    set_country_flag = EOANB_Technology_Institution_Sanitation
    set_country_flag = EOANB_Technology_Institution_Mechanization
    set_country_flag = EOANB_Technology_Institution_Electrification
    set_country_flag = EOANB_Technology_Institution_Mass_Transit
    set_country_flag = EOANB_Technology_Institution_Mass_Marketization
    set_country_flag = EOANB_Technology_Institution_Mass_Media
    set_country_flag = EOANB_Technology_Institution_Feminism
    set_country_flag = EOANB_Technology_Institution_Mass_Production
    set_country_flag = EOANB_Technology_Institution_Dogmatism
  }
  else_if = {
    limit = { has_idea = modern_era }
    set_country_flag = EOANB_Technology_Institution_Enlightenment
    set_country_flag = EOANB_Technology_Institution_Industrialization
    set_country_flag = EOANB_Technology_Institution_Nationalism
    set_country_flag = EOANB_Technology_Institution_Sanitation
    set_country_flag = EOANB_Technology_Institution_Mechanization
    set_country_flag = EOANB_Technology_Institution_Electrification
    set_country_flag = EOANB_Technology_Institution_Mass_Transit
    set_country_flag = EOANB_Technology_Institution_Marketization
    set_country_flag = EOANB_Technology_Institution_Mass_Media
    set_country_flag = EOANB_Technology_Institution_Feminism
  }
  else_if = {
    limit = { has_idea = aviation_era }
    set_country_flag = EOANB_Technology_Institution_Enlightenment
    set_country_flag = EOANB_Technology_Institution_Industrialization
    set_country_flag = EOANB_Technology_Institution_Nationalism
    set_country_flag = EOANB_Technology_Institution_Sanitation
    set_country_flag = EOANB_Technology_Institution_Mechanization
    set_country_flag = EOANB_Technology_Institution_Electrification
    set_country_flag = EOANB_Technology_Institution_Mass_Transit
    set_country_flag = EOANB_Technology_Institution_Marketization
  }
  else_if = {
    limit = { has_idea = oil_era }
    set_country_flag = EOANB_Technology_Institution_Enlightenment
    set_country_flag = EOANB_Technology_Institution_Industrialization
    set_country_flag = EOANB_Technology_Institution_Nationalism
    set_country_flag = EOANB_Technology_Institution_Sanitation
    set_country_flag = EOANB_Technology_Institution_Mechanization
    set_country_flag = EOANB_Technology_Institution_Electrification
  }
  else_if = {
    limit = { has_idea = machine_era }
    set_country_flag = EOANB_Technology_Institution_Enlightenment
    set_country_flag = EOANB_Technology_Institution_Industrialization
    set_country_flag = EOANB_Technology_Institution_Nationalism
    set_country_flag = EOANB_Technology_Institution_Sanitation
  }
  else_if = {
    limit = { has_idea = victorian_era }
    set_country_flag = EOANB_Technology_Institution_Enlightenment
    set_country_flag = EOANB_Technology_Institution_Industrialization
  }
  else = {
    # has_idea = pre_industrial_era
  }
  every_owned_state = {
    EOANB_Technology_Institution_State_Bookmark_Setup = yes
  } 
}

EOANB_Technology_Institution_Country_Midgame_Setup = {
  # Post Digital
    if = {
      limit = {
        capital_scope = {
          OR = {
            has_state_flag = EOANB_Technology_Institution_Automatization
            has_state_flag = EOANB_Technology_Institution_Space_Exploration
          }
        }
      }
      hidden_effect = {
        remove_ideas = { pre_industrial_era victorian_era machine_era oil_era aviation_era modern_era atomic_era information_era digital_era }
      }
      add_ideas = post_digital_era
      set_country_flag = EOANB_Technology_Institution_Enlightenment
      set_country_flag = EOANB_Technology_Institution_Industrialization
      set_country_flag = EOANB_Technology_Institution_Nationalism
      set_country_flag = EOANB_Technology_Institution_Sanitation
      set_country_flag = EOANB_Technology_Institution_Mechanization
      set_country_flag = EOANB_Technology_Institution_Electrification
      set_country_flag = EOANB_Technology_Institution_Mass_Transit
      set_country_flag = EOANB_Technology_Institution_Mass_Marketization
      set_country_flag = EOANB_Technology_Institution_Mass_Media
      set_country_flag = EOANB_Technology_Institution_Feminism
      set_country_flag = EOANB_Technology_Institution_Mass_Production
      set_country_flag = EOANB_Technology_Institution_Dogmatism
      set_country_flag = EOANB_Technology_Institution_Globalization
      set_country_flag = EOANB_Technology_Institution_Green_Revolution
      set_country_flag = EOANB_Technology_Institution_Computing
      set_country_flag = EOANB_Technology_Institution_Environmentalism
      set_country_flag = EOANB_Technology_Institution_Internet
      set_country_flag = EOANB_Technology_Institution_Precision_Agriculture
    }
  # Digital
    else_if = {
      limit = {
        capital_scope = {
          OR = {
            has_state_flag = EOANB_Technology_Institution_Internet
            has_state_flag = EOANB_Technology_Institution_Precision_Agriculture
          }
        }
      }
      hidden_effect = {
        remove_ideas = { pre_industrial_era victorian_era machine_era oil_era aviation_era modern_era atomic_era information_era }
      }
      add_ideas = digital_era
      set_country_flag = EOANB_Technology_Institution_Enlightenment
      set_country_flag = EOANB_Technology_Institution_Industrialization
      set_country_flag = EOANB_Technology_Institution_Nationalism
      set_country_flag = EOANB_Technology_Institution_Sanitation
      set_country_flag = EOANB_Technology_Institution_Mechanization
      set_country_flag = EOANB_Technology_Institution_Electrification
      set_country_flag = EOANB_Technology_Institution_Mass_Transit
      set_country_flag = EOANB_Technology_Institution_Mass_Marketization
      set_country_flag = EOANB_Technology_Institution_Mass_Media
      set_country_flag = EOANB_Technology_Institution_Feminism
      set_country_flag = EOANB_Technology_Institution_Mass_Production
      set_country_flag = EOANB_Technology_Institution_Dogmatism
      set_country_flag = EOANB_Technology_Institution_Globalization
      set_country_flag = EOANB_Technology_Institution_Green_Revolution
      set_country_flag = EOANB_Technology_Institution_Computing
      set_country_flag = EOANB_Technology_Institution_Environmentalism
    }
  # Information
    else_if = {
      limit = {
        capital_scope = {
          OR = {
            has_state_flag = EOANB_Technology_Institution_Computing
            has_state_flag = EOANB_Technology_Institution_Environmentalism
          }
        }
      }
      hidden_effect = {
        remove_ideas = { pre_industrial_era victorian_era machine_era oil_era aviation_era modern_era atomic_era }
      }
      add_ideas = information_era
      set_country_flag = EOANB_Technology_Institution_Enlightenment
      set_country_flag = EOANB_Technology_Institution_Industrialization
      set_country_flag = EOANB_Technology_Institution_Nationalism
      set_country_flag = EOANB_Technology_Institution_Sanitation
      set_country_flag = EOANB_Technology_Institution_Mechanization
      set_country_flag = EOANB_Technology_Institution_Electrification
      set_country_flag = EOANB_Technology_Institution_Mass_Transit
      set_country_flag = EOANB_Technology_Institution_Mass_Marketization
      set_country_flag = EOANB_Technology_Institution_Mass_Media
      set_country_flag = EOANB_Technology_Institution_Feminism
      set_country_flag = EOANB_Technology_Institution_Mass_Production
      set_country_flag = EOANB_Technology_Institution_Dogmatism
      set_country_flag = EOANB_Technology_Institution_Globalization
      set_country_flag = EOANB_Technology_Institution_Green_Revolution
    }
  # Atomic
    else_if = {
      limit = {
        capital_scope = {
          OR = {
            has_state_flag = EOANB_Technology_Institution_Globalization
            has_state_flag = EOANB_Technology_Institution_Green_Revolution
          }
        }
      }
      hidden_effect = {
        remove_ideas = { pre_industrial_era victorian_era machine_era oil_era aviation_era modern_era }
      }
      add_ideas = atomic_era
      set_country_flag = EOANB_Technology_Institution_Enlightenment
      set_country_flag = EOANB_Technology_Institution_Industrialization
      set_country_flag = EOANB_Technology_Institution_Nationalism
      set_country_flag = EOANB_Technology_Institution_Sanitation
      set_country_flag = EOANB_Technology_Institution_Mechanization
      set_country_flag = EOANB_Technology_Institution_Electrification
      set_country_flag = EOANB_Technology_Institution_Mass_Transit
      set_country_flag = EOANB_Technology_Institution_Mass_Marketization
      set_country_flag = EOANB_Technology_Institution_Mass_Media
      set_country_flag = EOANB_Technology_Institution_Feminism
      set_country_flag = EOANB_Technology_Institution_Mass_Production
      set_country_flag = EOANB_Technology_Institution_Dogmatism
    }
  # Modern
    else_if = {
      limit = {
        capital_scope = {
          OR = {
            has_state_flag = EOANB_Technology_Institution_Mass_Production
            has_state_flag = EOANB_Technology_Institution_Dogmatism
          }
        }
      }
      hidden_effect = {
        remove_ideas = { pre_industrial_era victorian_era machine_era oil_era aviation_era }
      }
      add_ideas = modern_era
      set_country_flag = EOANB_Technology_Institution_Enlightenment
      set_country_flag = EOANB_Technology_Institution_Industrialization
      set_country_flag = EOANB_Technology_Institution_Nationalism
      set_country_flag = EOANB_Technology_Institution_Sanitation
      set_country_flag = EOANB_Technology_Institution_Mechanization
      set_country_flag = EOANB_Technology_Institution_Electrification
      set_country_flag = EOANB_Technology_Institution_Mass_Transit
      set_country_flag = EOANB_Technology_Institution_Mass_Marketization
      set_country_flag = EOANB_Technology_Institution_Mass_Media
      set_country_flag = EOANB_Technology_Institution_Feminism
    }
  # Aviation
    else_if = {
      limit = {
        capital_scope = {
          OR = {
            has_state_flag = EOANB_Technology_Institution_Mass_Media
            has_state_flag = EOANB_Technology_Institution_Feminism
          }
        }
      }
      hidden_effect = {
        remove_ideas = { pre_industrial_era victorian_era machine_era oil_era }
      }
      add_ideas = aviation_era
      set_country_flag = EOANB_Technology_Institution_Enlightenment
      set_country_flag = EOANB_Technology_Institution_Industrialization
      set_country_flag = EOANB_Technology_Institution_Nationalism
      set_country_flag = EOANB_Technology_Institution_Sanitation
      set_country_flag = EOANB_Technology_Institution_Mechanization
      set_country_flag = EOANB_Technology_Institution_Electrification
      set_country_flag = EOANB_Technology_Institution_Mass_Transit
      set_country_flag = EOANB_Technology_Institution_Mass_Marketization
    }
  # Oil
    else_if = {
      limit = {
        capital_scope = {
          OR = {
            has_state_flag = EOANB_Technology_Institution_Mass_Transit
            has_state_flag = EOANB_Technology_Institution_Mass_Marketization
          }
        }
      }
      hidden_effect = {
        remove_ideas = { pre_industrial_era victorian_era machine_era }
      }
      add_ideas = oil_era
      set_country_flag = EOANB_Technology_Institution_Enlightenment
      set_country_flag = EOANB_Technology_Institution_Industrialization
      set_country_flag = EOANB_Technology_Institution_Nationalism
      set_country_flag = EOANB_Technology_Institution_Sanitation
      set_country_flag = EOANB_Technology_Institution_Mechanization
      set_country_flag = EOANB_Technology_Institution_Electrification
    }
  # Machine
    else_if = {
      limit = {
        capital_scope = {
          OR = {
            has_state_flag = EOANB_Technology_Institution_Mechanization
            has_state_flag = EOANB_Technology_Institution_Electrification
          }
        }
      }
      hidden_effect = {
        remove_ideas = { pre_industrial_era victorian_era }
      }
      add_ideas = machine_era
      set_country_flag = EOANB_Technology_Institution_Enlightenment
      set_country_flag = EOANB_Technology_Institution_Industrialization
      set_country_flag = EOANB_Technology_Institution_Nationalism
      set_country_flag = EOANB_Technology_Institution_Sanitation
    }
  # Victorian
    else_if = {
      limit = {
        capital_scope = {
          OR = {
            has_state_flag = EOANB_Technology_Institution_Nationalism
            has_state_flag = EOANB_Technology_Institution_Sanitation
          }
        }
      }
      hidden_effect = {
        remove_ideas = { pre_industrial_era }
      }
      add_ideas = machine_era
      set_country_flag = EOANB_Technology_Institution_Enlightenment
      set_country_flag = EOANB_Technology_Institution_Industrialization
    }
  # Pre-Industrial
    else = {
      if = {
        limit = { capital_scope = { has_state_flag = EOANB_Technology_Institution_Enlightenment } }
        set_country_flag = EOANB_Technology_Institution_Enlightenment
      }
      if = {
        limit = { capital_scope = { has_state_flag = EOANB_Technology_Institution_Industrialization } }
        set_country_flag = EOANB_Technology_Institution_Industrialization
      }
    }
}

EOANB_Technology_Institution_State_Bookmark_Setup = {
  if = {
    limit = { is_core_of = OWNER }
    if = {
      limit = { OWNER = { has_idea = post_digital_era } }
      set_variable = { EOANB_Technology_Institution_Automatization_Var = 0 }
      set_variable = { EOANB_Technology_Institution_Space_Exploration_Var = 0 }
      set_state_flag = EOANB_Technology_Institution_Enlightenment
      set_state_flag = EOANB_Technology_Institution_Industrialization
      set_state_flag = EOANB_Technology_Institution_Nationalism
      set_state_flag = EOANB_Technology_Institution_Sanitation
      set_state_flag = EOANB_Technology_Institution_Mechanization
      set_state_flag = EOANB_Technology_Institution_Electrification
      set_state_flag = EOANB_Technology_Institution_Mass_Transit
      set_state_flag = EOANB_Technology_Institution_Mass_Marketization
      set_state_flag = EOANB_Technology_Institution_Mass_Media
      set_state_flag = EOANB_Technology_Institution_Feminism
      set_state_flag = EOANB_Technology_Institution_Mass_Production
      set_state_flag = EOANB_Technology_Institution_Dogmatism
      set_state_flag = EOANB_Technology_Institution_Globalization
      set_state_flag = EOANB_Technology_Institution_Green_Revolution
      set_state_flag = EOANB_Technology_Institution_Computing
      set_state_flag = EOANB_Technology_Institution_Environmentalism
      set_state_flag = EOANB_Technology_Institution_Internet
      set_state_flag = EOANB_Technology_Institution_Precision_Agriculture
    }
    else_if = {
      limit = { OWNER = { has_idea = digital_era } }
      set_variable = { EOANB_Technology_Institution_Internet_Var = 0 }
      set_variable = { EOANB_Technology_Institution_Precision_Agriculture_Var = 0 }
      set_state_flag = EOANB_Technology_Institution_Enlightenment
      set_state_flag = EOANB_Technology_Institution_Industrialization
      set_state_flag = EOANB_Technology_Institution_Nationalism
      set_state_flag = EOANB_Technology_Institution_Sanitation
      set_state_flag = EOANB_Technology_Institution_Mechanization
      set_state_flag = EOANB_Technology_Institution_Electrification
      set_state_flag = EOANB_Technology_Institution_Mass_Transit
      set_state_flag = EOANB_Technology_Institution_Mass_Marketization
      set_state_flag = EOANB_Technology_Institution_Mass_Media
      set_state_flag = EOANB_Technology_Institution_Feminism
      set_state_flag = EOANB_Technology_Institution_Mass_Production
      set_state_flag = EOANB_Technology_Institution_Dogmatism
      set_state_flag = EOANB_Technology_Institution_Globalization
      set_state_flag = EOANB_Technology_Institution_Green_Revolution
      set_state_flag = EOANB_Technology_Institution_Computing
      set_state_flag = EOANB_Technology_Institution_Environmentalism
    }
    else_if = {
      limit = { OWNER = { has_idea = information_era } }
      set_variable = { EOANB_Technology_Institution_Computing_Var = 0 }
      set_variable = { EOANB_Technology_Institution_Environmentalism_Var = 0 }
      set_state_flag = EOANB_Technology_Institution_Enlightenment
      set_state_flag = EOANB_Technology_Institution_Industrialization
      set_state_flag = EOANB_Technology_Institution_Nationalism
      set_state_flag = EOANB_Technology_Institution_Sanitation
      set_state_flag = EOANB_Technology_Institution_Mechanization
      set_state_flag = EOANB_Technology_Institution_Electrification
      set_state_flag = EOANB_Technology_Institution_Mass_Transit
      set_state_flag = EOANB_Technology_Institution_Mass_Marketization
      set_state_flag = EOANB_Technology_Institution_Mass_Media
      set_state_flag = EOANB_Technology_Institution_Feminism
      set_state_flag = EOANB_Technology_Institution_Mass_Production
      set_state_flag = EOANB_Technology_Institution_Dogmatism
      set_state_flag = EOANB_Technology_Institution_Globalization
      set_state_flag = EOANB_Technology_Institution_Green_Revolution
    }
    else_if = {
      limit = { OWNER = { has_idea = atomic_era } }
      set_variable = { EOANB_Technology_Institution_Globalization_Var = 0 }
      set_variable = { EOANB_Technology_Institution_Green_Revolution_Var = 0 }
      set_state_flag = EOANB_Technology_Institution_Enlightenment
      set_state_flag = EOANB_Technology_Institution_Industrialization
      set_state_flag = EOANB_Technology_Institution_Nationalism
      set_state_flag = EOANB_Technology_Institution_Sanitation
      set_state_flag = EOANB_Technology_Institution_Mechanization
      set_state_flag = EOANB_Technology_Institution_Electrification
      set_state_flag = EOANB_Technology_Institution_Mass_Transit
      set_state_flag = EOANB_Technology_Institution_Mass_Marketization
      set_state_flag = EOANB_Technology_Institution_Mass_Media
      set_state_flag = EOANB_Technology_Institution_Feminism
      set_state_flag = EOANB_Technology_Institution_Mass_Production
      set_state_flag = EOANB_Technology_Institution_Dogmatism
    }
    else_if = {
      limit = { OWNER = { has_idea = modern_era } }
      set_variable = { EOANB_Technology_Institution_Mass_Production_Var = 0 }
      set_variable = { EOANB_Technology_Institution_Dogmatism_Var = 0 }
      set_state_flag = EOANB_Technology_Institution_Enlightenment
      set_state_flag = EOANB_Technology_Institution_Industrialization
      set_state_flag = EOANB_Technology_Institution_Nationalism
      set_state_flag = EOANB_Technology_Institution_Sanitation
      set_state_flag = EOANB_Technology_Institution_Mechanization
      set_state_flag = EOANB_Technology_Institution_Electrification
      set_state_flag = EOANB_Technology_Institution_Mass_Transit
      set_state_flag = EOANB_Technology_Institution_Mass_Marketization
      set_state_flag = EOANB_Technology_Institution_Mass_Media
      set_state_flag = EOANB_Technology_Institution_Feminism
    }
    else_if = {
      limit = { OWNER = { has_idea = aviation_era } }
      set_variable = { EOANB_Technology_Institution_Mass_Media_Var = 0 }
      set_variable = { EOANB_Technology_Institution_Feminism_Var = 0 }
      set_state_flag = EOANB_Technology_Institution_Enlightenment
      set_state_flag = EOANB_Technology_Institution_Industrialization
      set_state_flag = EOANB_Technology_Institution_Nationalism
      set_state_flag = EOANB_Technology_Institution_Sanitation
      set_state_flag = EOANB_Technology_Institution_Mechanization
      set_state_flag = EOANB_Technology_Institution_Electrification
      set_state_flag = EOANB_Technology_Institution_Mass_Transit
      set_state_flag = EOANB_Technology_Institution_Mass_Marketization
    }
    else_if = {
      limit = { OWNER = { has_idea = oil_era } }
      set_variable = { EOANB_Technology_Institution_Mass_Transit_Var = 0 }
      set_variable = { EOANB_Technology_Institution_Mass_Marketization_Var = 0 }
      set_state_flag = EOANB_Technology_Institution_Enlightenment
      set_state_flag = EOANB_Technology_Institution_Industrialization
      set_state_flag = EOANB_Technology_Institution_Nationalism
      set_state_flag = EOANB_Technology_Institution_Sanitation
      set_state_flag = EOANB_Technology_Institution_Mechanization
      set_state_flag = EOANB_Technology_Institution_Electrification
    }
    else_if = {
      limit = { OWNER = { has_idea = machine_era } }
      set_variable = { EOANB_Technology_Institution_Mechanization_Var = 0 }
      set_variable = { EOANB_Technology_Institution_Electrification_Var = 0 }
      set_state_flag = EOANB_Technology_Institution_Enlightenment
      set_state_flag = EOANB_Technology_Institution_Industrialization
      set_state_flag = EOANB_Technology_Institution_Nationalism
      set_state_flag = EOANB_Technology_Institution_Sanitation
    }
    else_if = {
      limit = { OWNER = { has_idea = victorian_era } }
      set_variable = { EOANB_Technology_Institution_Nationalism_Var = 0 }
      set_variable = { EOANB_Technology_Institution_Sanitation_Var = 0 }
      set_state_flag = EOANB_Technology_Institution_Enlightenment
      set_state_flag = EOANB_Technology_Institution_Industrialization
    }
    else = {
      if = {
        limit = {
          OWNER = {
            OR = {
              has_idea = AF_T_nomadic_tribal_nation
              has_idea = AF_T_unorganized_tribal_nation
              has_idea = AF_T_unorganized_tribal_nation_2
              has_idea = AF_T_unorganized_tribal_nation_3
              has_idea = AF_T_unorganized_tribal_nation_4
              has_idea = AF_T_unorganized_tribal_nation_5
              has_idea = AF_T_organized_tribal_nation
              has_idea = AF_T_organized_tribal_nation_2
              has_idea = AF_T_organized_tribal_nation_3
            }
          }
        }
        set_variable = { EOANB_Technology_Institution_Enlightenment_Var = 0.45 }
        set_variable = { EOANB_Technology_Institution_Industrialization_Var = 0 }
      }
      else = {
        set_state_flag = EOANB_Technology_Institution_Enlightenment
        set_variable = { EOANB_Technology_Institution_Industrialization_Var = 0.10 }
      }
    }
  }
}

EOANB_Technology_Era_Update = {
    if = {
      limit = { has_idea = digital_era }
      swap_ideas = {
        remove_idea = digital_era
        add_idea = post_digital_era
      }
    }
    else_if = {
      limit = { has_idea = information_era }
      swap_ideas = {
        remove_idea = information_era
        add_idea = digital_era
      }
    }
    else_if = {
      limit = { has_idea = atomic_era }
      swap_ideas = {
        remove_idea = atomic_era
        add_idea = information_era
      }
    }
    else_if = {
      limit = { has_idea = modern_era }
      swap_ideas = {
        remove_idea = modern_era
        add_idea = atomic_era
      }
    }
    else_if = {
      limit = { has_idea = aviation_era }
      swap_ideas = {
        remove_idea = aviation_era
        add_idea = modern_era
      }
    }
    else_if = {
      limit = { has_idea = oil_era }
      swap_ideas = {
        remove_idea = oil_era
        add_idea = aviation_era
      }
    }
    else_if = {
      limit = { has_idea = machine_era }
      swap_ideas = {
        remove_idea = machine_era
        add_idea = oil_era
      }
    }
    else_if = {
      limit = { has_idea = victorian_era }
      swap_ideas = {
        remove_idea = victorian_era
        add_idea = machine_era
      }
    }
    else_if = {
      limit = { has_idea = pre_industrial_era }
      swap_ideas = {
        remove_idea = pre_industrial_era
        add_idea = victorian_era
      }
    }
}