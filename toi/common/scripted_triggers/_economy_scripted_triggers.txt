
#is_in_japan = {
#	custom_trigger_tooltip = {
#		tooltip = eoanb_is_in_japan_tt
#		OR = {
#			state = 282
#			#... so on
#		}
#	}
#}

return_latest_production_method = {
	# building_token
	# State Scope
	# Returns pm_temp
	# Returns a temporary variable which has the latest production method available (as the number) and returns -1 if not available
	
	set_temp_variable = { pm_temp = -1 }

	#Checks latest first
	if = {
		limit = {
			OR = {
				check_variable = { global.building_futurized_tech_unlock@var:building_token = 1 }
				AND = {
					NOT = { check_variable = { global.building_futurized_tech_unlock@var:building_token = 0 } }
					set_temp_variable = { tech_temp = global.building_futurized_tech_unlock@var:building_token }
					controller = { has_tech = var:tech_temp }
				}
			}
		}
		set_temp_variable = { pm_temp = 11 }
	}
	else_if = {
		limit = {
			OR = {
				check_variable = { global.building_automatized_tech_unlock@var:building_token = 1 }
				AND = {
					NOT = { check_variable = { global.building_automatized_tech_unlock@var:building_token = 0 } }
					set_temp_variable = { tech_temp = global.building_automatized_tech_unlock@var:building_token }
					controller = { has_tech = var:tech_temp }
				}
			}
		}
		set_temp_variable = { pm_temp = 10 }
	}
	else_if = {
		limit = {
			OR = {
				check_variable = { global.building_digitalized_tech_unlock@var:building_token = 1 }
				AND = {
					NOT = { check_variable = { global.building_digitalized_tech_unlock@var:building_token = 0 } }
					set_temp_variable = { tech_temp = global.building_digitalized_tech_unlock@var:building_token }
					controller = { has_tech = var:tech_temp }
				}
			}
		}
		set_temp_variable = { pm_temp = 9 }
	}
	else_if = {
		limit = {
			OR = {
				check_variable = { global.building_computerized_tech_unlock@var:building_token = 1 }
				AND = {
					NOT = { check_variable = { global.building_computerized_tech_unlock@var:building_token = 0 } }
					set_temp_variable = { tech_temp = global.building_computerized_tech_unlock@var:building_token }
					controller = { has_tech = var:tech_temp }
				}
			}
		}
		set_temp_variable = { pm_temp = 8 }
	}
	else_if = {
		limit = {
			OR = {
				check_variable = { global.building_roboticized_tech_unlock@var:building_token = 1 }
				AND = {
					NOT = { check_variable = { global.building_roboticized_tech_unlock@var:building_token = 0 } }
					set_temp_variable = { tech_temp = global.building_roboticized_tech_unlock@var:building_token }
					controller = { has_tech = var:tech_temp }
				}
			}
		}
		set_temp_variable = { pm_temp = 7 }
	}
	else_if = {
		limit = {
			OR = {
				check_variable = { global.building_modernized_tech_unlock@var:building_token = 1 }
				AND = {
					NOT = { check_variable = { global.building_modernized_tech_unlock@var:building_token = 0 } }
					set_temp_variable = { tech_temp = global.building_modernized_tech_unlock@var:building_token }
					controller = { has_tech = var:tech_temp }
				}
			}
		}
		set_temp_variable = { pm_temp = 6 }
	}
	else_if = {
		limit = {
			OR = {
				check_variable = { global.building_motorized_tech_unlock@var:building_token = 1 }
				AND = {
					NOT = { check_variable = { global.building_motorized_tech_unlock@var:building_token = 0 } }
					set_temp_variable = { tech_temp = global.building_motorized_tech_unlock@var:building_token }
					controller = { has_tech = var:tech_temp }
				}
			}
		}
		set_temp_variable = { pm_temp = 5 }
	}
	else_if = {
		limit = {
			OR = {
				check_variable = { global.building_electrified_tech_unlock@var:building_token = 1 }
				AND = {
					NOT = { check_variable = { global.building_electrified_tech_unlock@var:building_token = 0 } }
					set_temp_variable = { tech_temp = global.building_electrified_tech_unlock@var:building_token }
					controller = { has_tech = var:tech_temp }
				}
			}
		}
		set_temp_variable = { pm_temp = 4 }
	}
	else_if = {
		limit = {
			OR = {
				check_variable = { global.building_mechanized_tech_unlock@var:building_token = 1 }
				AND = {
					NOT = { check_variable = { global.building_mechanized_tech_unlock@var:building_token = 0 } }
					set_temp_variable = { tech_temp = global.building_mechanized_tech_unlock@var:building_token }
					controller = { has_tech = var:tech_temp }
				}
			}
		}
		set_temp_variable = { pm_temp = 3 }
	}
	else_if = {
		limit = {
			OR = {
				check_variable = { global.building_industrialized_tech_unlock@var:building_token = 1 }
				AND = {
					NOT = { check_variable = { global.building_industrialized_tech_unlock@var:building_token = 0 } }
					set_temp_variable = { tech_temp = global.building_industrialized_tech_unlock@var:building_token }
					controller = { has_tech = var:tech_temp }
				}
			}
		}
		set_temp_variable = { pm_temp = 2 }
	}
	else_if = {
		limit = {
			OR = {
				check_variable = { global.building_advanced_tech_unlock@var:building_token = 1 }
				AND = {
					NOT = { check_variable = { global.building_advanced_tech_unlock@var:building_token = 0 } }
					set_temp_variable = { tech_temp = global.building_advanced_tech_unlock@var:building_token }
					controller = { has_tech = var:tech_temp }
				}
			}
		}
		set_temp_variable = { pm_temp = 1 }
	}
	else_if = {
		limit = {
			OR = {
				check_variable = { global.building_basic_tech_unlock@var:building_token = 1 }
				AND = {
					NOT = { check_variable = { global.building_basic_tech_unlock@var:building_token = 0 } }
					set_temp_variable = { tech_temp = global.building_basic_tech_unlock@var:building_token }
					controller = { has_tech = var:tech_temp }
				}
			}
		}
		set_temp_variable = { pm_temp = 0 }
	}
}
return_earliest_production_method = {
	# building_token
	# State Scope
	# Returns pm_temp
	# Returns a temporary variable which has the earliest production method available (as the number) and returns -1 if not available
	
	set_temp_variable = { pm_temp = -1 }

	#Checks earliest first
	if = {
		limit = {
			OR = {
				check_variable = { global.building_basic_tech_unlock@var:building_token = 1 }
				AND = {
					NOT = { check_variable = { global.building_basic_tech_unlock@var:building_token = 0 } }
					set_temp_variable = { tech_temp = global.building_basic_tech_unlock@var:building_token }
					controller = { has_tech = var:tech_temp }
				}
			}
		}
		set_temp_variable = { pm_temp = 0 }
	}
	else_if = {
		limit = {
			OR = {
				check_variable = { global.building_advanced_tech_unlock@var:building_token = 1 }
				AND = {
					NOT = { check_variable = { global.building_advanced_tech_unlock@var:building_token = 0 } }
					set_temp_variable = { tech_temp = global.building_advanced_tech_unlock@var:building_token }
					controller = { has_tech = var:tech_temp }
				}
			}
		}
		set_temp_variable = { pm_temp = 1 }
	}
	else_if = {
		limit = {
			OR = {
				check_variable = { global.building_industrialized_tech_unlock@var:building_token = 1 }
				AND = {
					NOT = { check_variable = { global.building_industrialized_tech_unlock@var:building_token = 0 } }
					set_temp_variable = { tech_temp = global.building_industrialized_tech_unlock@var:building_token }
					controller = { has_tech = var:tech_temp }
				}
			}
		}
		set_temp_variable = { pm_temp = 2 }
	}
	else_if = {
		limit = {
			OR = {
				check_variable = { global.building_mechanized_tech_unlock@var:building_token = 1 }
				AND = {
					NOT = { check_variable = { global.building_mechanized_tech_unlock@var:building_token = 0 } }
					set_temp_variable = { tech_temp = global.building_mechanized_tech_unlock@var:building_token }
					controller = { has_tech = var:tech_temp }
				}
			}
		}
		set_temp_variable = { pm_temp = 3 }
	}
	else_if = {
		limit = {
			OR = {
				check_variable = { global.building_electrified_tech_unlock@var:building_token = 1 }
				AND = {
					NOT = { check_variable = { global.building_electrified_tech_unlock@var:building_token = 0 } }
					set_temp_variable = { tech_temp = global.building_electrified_tech_unlock@var:building_token }
					controller = { has_tech = var:tech_temp }
				}
			}
		}
		set_temp_variable = { pm_temp = 4 }
	}
	else_if = {
		limit = {
			OR = {
				check_variable = { global.building_motorized_tech_unlock@var:building_token = 1 }
				AND = {
					NOT = { check_variable = { global.building_motorized_tech_unlock@var:building_token = 0 } }
					set_temp_variable = { tech_temp = global.building_motorized_tech_unlock@var:building_token }
					controller = { has_tech = var:tech_temp }
				}
			}
		}
		set_temp_variable = { pm_temp = 5 }
	}
	else_if = {
		limit = {
			OR = {
				check_variable = { global.building_modernized_tech_unlock@var:building_token = 1 }
				AND = {
					NOT = { check_variable = { global.building_modernized_tech_unlock@var:building_token = 0 } }
					set_temp_variable = { tech_temp = global.building_modernized_tech_unlock@var:building_token }
					controller = { has_tech = var:tech_temp }
				}
			}
		}
		set_temp_variable = { pm_temp = 6 }
	}
	else_if = {
		limit = {
			OR = {
				check_variable = { global.building_roboticized_tech_unlock@var:building_token = 1 }
				AND = {
					NOT = { check_variable = { global.building_roboticized_tech_unlock@var:building_token = 0 } }
					set_temp_variable = { tech_temp = global.building_roboticized_tech_unlock@var:building_token }
					controller = { has_tech = var:tech_temp }
				}
			}
		}
		set_temp_variable = { pm_temp = 7 }
	}
	else_if = {
		limit = {
			OR = {
				check_variable = { global.building_computerized_tech_unlock@var:building_token = 1 }
				AND = {
					NOT = { check_variable = { global.building_computerized_tech_unlock@var:building_token = 0 } }
					set_temp_variable = { tech_temp = global.building_computerized_tech_unlock@var:building_token }
					controller = { has_tech = var:tech_temp }
				}
			}
		}
		set_temp_variable = { pm_temp = 8 }
	}
	else_if = {
		limit = {
			OR = {
				check_variable = { global.building_digitalized_tech_unlock@var:building_token = 1 }
				AND = {
					NOT = { check_variable = { global.building_digitalized_tech_unlock@var:building_token = 0 } }
					set_temp_variable = { tech_temp = global.building_digitalized_tech_unlock@var:building_token }
					controller = { has_tech = var:tech_temp }
				}
			}
		}
		set_temp_variable = { pm_temp = 9 }
	}
	else_if = {
		limit = {
			OR = {
				check_variable = { global.building_automatized_tech_unlock@var:building_token = 1 }
				AND = {
					NOT = { check_variable = { global.building_automatized_tech_unlock@var:building_token = 0 } }
					set_temp_variable = { tech_temp = global.building_automatized_tech_unlock@var:building_token }
					controller = { has_tech = var:tech_temp }
				}
			}
		}
		set_temp_variable = { pm_temp = 10 }
	}
	else_if = {
		limit = {
			OR = {
				check_variable = { global.building_futurized_tech_unlock@var:building_token = 1 }
				AND = {
					NOT = { check_variable = { global.building_futurized_tech_unlock@var:building_token = 0 } }
					set_temp_variable = { tech_temp = global.building_futurized_tech_unlock@var:building_token }
					controller = { has_tech = var:tech_temp }
				}
			}
		}
		set_temp_variable = { pm_temp = 11 }
	}
}