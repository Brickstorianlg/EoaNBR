add_namespace = ryukyu

country_event = {
	id = ryukyu.1
	title = ryukyu.1.t
	desc = ryukyu.1.d
	picture = GFX_report_event_merchant_ship_01

	immediate = {
		log = "[THIS.GetTag]: firing = ryukyu.1"
	}
	
	is_triggered_only = no
	hidden = yes
	trigger = {
		RYU = { has_full_control_of_state = 526 }
		RYU = { has_country_flag = RYU_Civil_War }
	}
	mean_time_to_happen = {days = 3 }
	
	immediate = {
		log = "[THIS.GetTag]: firing = ryukyu.1"
		RYU = { clr_country_flag = RYU_Civil_War }
		RYU = { country_event = { id = ryukyu.41 } }
		SAT = { country_event = { id = ryukyu.42 } }
		if = {
			limit = { RYU = { has_country_flag = RYU_ENG_support } }
			ENG = { country_event = { id = ryukyu.45 } }
		}
		if = {
			limit = { RYU = { has_country_flag = RYU_USA_support } }
			USA = { country_event = { id = ryukyu.45 } }
		}
		if = {
			limit = { RYU = { has_country_flag = RYU_FRA_support } }
			FRA = { country_event = { id = ryukyu.45 } }
		}
		
		news_event = { id = ryukyu.46 days = 5 }
		QNG = { country_event = { id = ryukyu.30 } }
	}
}

country_event = {
	id = ryukyu.2
	title = ryukyu.2.t
	desc = ryukyu.2.d
	picture = GFX_report_event_merchant_ship_01

	immediate = {
		log = "[THIS.GetTag]: firing = ryukyu.2"
	}
	
	is_triggered_only = no
	hidden = yes
	trigger = {
		SAT = { has_full_control_of_state = 526 }
		RYU = { has_country_flag = RYU_Civil_War }
	}
	mean_time_to_happen = {days = 3 }
	
	immediate = { 
		log = "[THIS.GetTag]: firing = ryukyu.2"
		RYU = { clr_country_flag = RYU_Civil_War }
		RYU = { country_event = { id = ryukyu.51 } }
		SAT = { country_event = { id = ryukyu.52 } }
		if = {
			limit = { RYU = { has_country_flag = RYU_ENG_support } }
			ENG = { country_event = { id = ryukyu.55 } }
		}
		if = {
			limit = { RYU = { has_country_flag = RYU_USA_support } }
			USA = { country_event = { id = ryukyu.55 } }
		}
		if = {
			limit = { RYU = { has_country_flag = RYU_FRA_support } }
			FRA = { country_event = { id = ryukyu.55 } }
		}
		
	}
}


country_event = {
	id = ryukyu.3
	title = ryukyu.3.t
	desc = ryukyu.3.d
	picture = GFX_report_event_merchant_ship_01

	immediate = {
		log = "[THIS.GetTag]: firing = ryukyu.3"
	}
	
	is_triggered_only = yes

	option = {
		name = ryukyu.3.a
		log = "option:		name = ryukyu.3.a"
		ai_chance = { factor = 100 }
		hidden_effect = { set_technology = { gw_artillery = 1 } }
		add_equipment_to_stockpile = {
			type = cannon_equipment_0
			amount = 50
			producer = FRA
		}
		add_tech_bonus = {
			bonus = 0.15
			uses = 1
			technology = horse_artillery
		}
		add_equipment_to_stockpile = {
			type = horse_artillery_equipment_0
			amount = 50
			producer = FRA
		}
	}
}
	
#Bernard Bettelheim Goofball
country_event = {
	id = ryukyu.4
	title = ryukyu.4.t
	desc = ryukyu.4.d
	picture = GFX_report_event_soviet_finnish_pact

	immediate = {
		log = "[THIS.GetTag]: firing = ryukyu.4"
	}
	
	is_triggered_only = yes
	
	option = {
		name = ryukyu.4.a
		log = "option:		name = ryukyu.4.a"
		ai_chance = { factor = 90 }
		trigger = {
			NOT = { has_global_flag = eoanb_gamerule_eastereggs_enabled }
		}
		add_political_power = 25
		ENG = { country_event = { id = ryukyu.5 days = 12} }
		hidden_effect = { RYU = { country_event = { id = ryukyu.22 days = 254 } } }
	}
	option = {
		name = ryukyu.4.b
		log = "option:		name = ryukyu.4.b"
		ai_chance = { factor = 10 }
		trigger = {
			NOT = { has_global_flag = eoanb_gamerule_eastereggs_enabled }
		}
		add_political_power = -55
		add_stability = -0.10
		ENG = { country_event = { id = ryukyu.7 days = 12 } }
		FRA = { country_event = { id = ryukyu.13 days = 12 } }
		USA = { country_event = { id = ryukyu.14 days = 12 } }
		custom_effect_tooltip = RYU_bernard_bettelheim_convert_protestant
	}
	
	option = {
		name = ryukyu.4.a
		log = "option:		name = ryukyu.4.a"
		ai_chance = { factor = 20 }
		trigger = {
			has_global_flag = eoanb_gamerule_eastereggs_enabled
		}
		add_political_power = 25
		ENG = { country_event = { id = ryukyu.5 days = 12} }
		hidden_effect = { RYU = { country_event = { id = ryukyu.22 days = 254 } } }
	}
	option = {
		name = ryukyu.4.b
		log = "option:		name = ryukyu.4.b"
		ai_chance = { factor = 80 }
		trigger = {
			has_global_flag = eoanb_gamerule_eastereggs_enabled
		}
		add_political_power = -55
		add_stability = -0.10
		ENG = { country_event = { id = ryukyu.7 days = 12 } }
		FRA = { country_event = { id = ryukyu.13 days = 12 } }
		USA = { country_event = { id = ryukyu.14 days = 12 } }
		custom_effect_tooltip = RYU_bernard_bettelheim_convert_protestant
	}
	
}

#Ryukyu complains about Benard, Britain has low chance to get into Ryukyu
country_event = {
	id = ryukyu.5
	title = ryukyu.5.t
	desc = ryukyu.5.d
	picture = GFX_report_event_soviet_finnish_pact

	immediate = {
		log = "[THIS.GetTag]: firing = ryukyu.5"
	}
	
	is_triggered_only = yes
	
	option = {
		name = ryukyu.5.a 
		log = "option:		name = ryukyu.5.a "
		ai_chance = { factor = 100 }
		add_political_power = -10
	}
	
	#option = {
	#	name = ryukyu.5.b 
	#	ai_chance = { factor = 10 }
	#	add_political_power = -100
	#	hidden_effect = {
	#		RYU = { country_event = { id = ryukyu.6 } }
	#	}
	#}
	
}

country_event = {
	id = ryukyu.6
	title = ryukyu.6.t
	desc = ryukyu.6.d
	picture = GFX_report_event_soviet_finnish_pact

	immediate = {
		log = "[THIS.GetTag]: firing = ryukyu.6"
	}
	
	is_triggered_only = yes
	
	option = {
		name = ryukyu.6.a 
		log = "option:		name = ryukyu.6.a "
		ai_chance = { factor = 100 }
		custom_effect_tooltip = RYU_ENG_dockyard_forign_help_tooltip
		set_country_flag = RYU_dockyard_forign_help
		set_country_flag = RYU_ENG_dockyard_forign_help
		hidden_effect = { SAT = { country_event = { id = ryukyu.12 days = 3 } } }
	}
	
}

#Ryukyu asks to increase missionary work, Britain has high chance to get into Ryukyu
country_event = {
	id = ryukyu.7
	title = ryukyu.7.t
	desc = ryukyu.7.d
	picture = GFX_report_event_soviet_finnish_pact

	immediate = {
		log = "[THIS.GetTag]: firing = ryukyu.7"
	}
	
	is_triggered_only = yes
	
	option = {
		name = ryukyu.7.a 
		log = "option:		name = ryukyu.7.a "
		ai_chance = { factor = 100 }
		add_political_power = 25
		RYU = { country_event = { id = ryukyu.8 days = 12 } }
	}
	
}

country_event = {
	id = ryukyu.8
	title = ryukyu.8.t
	desc = ryukyu.8.d
	picture = GFX_report_event_soviet_finnish_pact

	immediate = {
		log = "[THIS.GetTag]: firing = ryukyu.8"
	}
	
	is_triggered_only = yes
	
	option = {
		name = ryukyu.8.a 
		log = "option:		name = ryukyu.8.a "
		ai_chance = { factor = 100 }
		custom_effect_tooltip = RYU_ENG_dockyard_forign_help_tooltip
		set_country_flag = RYU_dockyard_forign_help
		set_country_flag = RYU_ENG_dockyard_forign_help
		hidden_effect = { SAT = { country_event = { id = ryukyu.12 days = 3 } } }
		hidden_effect = { RYU = { country_event = { id = ryukyu.21 days = 230 } } }
	}
	
}

country_event = {
	id = ryukyu.9
	title = ryukyu.9.t
	desc = ryukyu.9.d
	picture = GFX_report_event_soviet_finnish_pact

	immediate = {
		log = "[THIS.GetTag]: firing = ryukyu.9"
	}
	
	is_triggered_only = yes
	
	trigger = {
		has_country_flag = RYU_Sho_Coup_Flag
	}
	
	option = {
		name = ryukyu.9.a 
		log = "option:		name = ryukyu.9.a "
		ai_chance = { factor = 100 }
		RYU = { country_event = { id = ryukyu.11 days = 12 } }
	}
	
	option = {
		name = ryukyu.9.b 
		log = "option:		name = ryukyu.9.b "
		ai_chance = { factor = 0 }
		RYU = { country_event = { id = ryukyu.10 days = 12 } }
	}
	
}

country_event = {
	id = ryukyu.10
	title = ryukyu.10.t
	desc = ryukyu.10.d
	picture = GFX_report_event_soviet_finnish_pact

	immediate = {
		log = "[THIS.GetTag]: firing = ryukyu.10"
	}
	
	is_triggered_only = yes
	
	option = {
		name = ryukyu.10.a 
		log = "option:		name = ryukyu.10.a "
		ai_chance = { factor = 100 }
		custom_effect_tooltip = RYU_bernard_bettelheim_7a_tooltip
	}
}

country_event = {
	id = ryukyu.11
	title = ryukyu.11.t
	desc = ryukyu.11.d
	picture = GFX_report_event_soviet_finnish_pact

	immediate = {
		log = "[THIS.GetTag]: firing = ryukyu.11"
	}
	
	is_triggered_only = yes
	
	option = {
		name = ryukyu.11.a 
		log = "option:		name = ryukyu.11.a "
		ai_chance = { factor = 100 }
		add_equipment_to_stockpile = {
			type = uniform_equipment_1
			amount = 100
			producer = ENG
		}
		add_equipment_to_stockpile = {
			type = infantry_equipment_rifle_1
			amount = 100
			producer = ENG
		}
		capital_scope = {
			custom_effect_tooltip = afr_colonial_effect_tooltip
			state_event = { id = afr_rrp_racial_tension_increase.1 trigger_for = controller }
		}
	}
}

country_event = {
	id = ryukyu.12
	title = ryukyu.12.t
	desc = ryukyu.12.d
	picture = GFX_report_event_soviet_finnish_pact

	immediate = {
		log = "[THIS.GetTag]: firing = ryukyu.12"
	}
	
	is_triggered_only = yes
	
	option = {
		name = ryukyu.12.a 
		log = "option:		name = ryukyu.12.a "
		ai_chance = { factor = 100 }
	}
	
}

country_event = {
	id = ryukyu.13
	title = ryukyu.13.t
	desc = ryukyu.13.d
	picture = GFX_report_event_soviet_finnish_pact

	immediate = {
		log = "[THIS.GetTag]: firing = ryukyu.13"
	}
	
	is_triggered_only = yes
	
	option = {
		name = ryukyu.13.a 
		log = "option:		name = ryukyu.13.a "
		ai_chance = { factor = 100 }
	}
}

country_event = {
	id = ryukyu.14
	title = ryukyu.14.t
	desc = ryukyu.14.d
	picture = GFX_report_event_soviet_finnish_pact

	immediate = {
		log = "[THIS.GetTag]: firing = ryukyu.14"
	}
	
	is_triggered_only = yes
	
	option = {
		name = ryukyu.14.a 
		log = "option:		name = ryukyu.14.a "
		ai_chance = { factor = 100 }
	}
}

country_event = {
	id = ryukyu.15
	title = ryukyu.15.t
	desc = ryukyu.15.d
	picture = GFX_report_event_soviet_finnish_pact

	immediate = {
		log = "[THIS.GetTag]: firing = ryukyu.15"
	}
	
	is_triggered_only = yes
	
	option = {
		name = ryukyu.15.a 
		log = "option:		name = ryukyu.15.a "
		ai_chance = { factor = 100 }
		create_production_license = {
			target = RYU
			equipment = {
				type = uniform_equipment_2
			}
			cost_factor = 0
		}
		RYU = { country_event = { id = ryukyu.17 days = 12 } }
	}
}

country_event = {
	id = ryukyu.16
	title = ryukyu.16.t
	desc = ryukyu.16.d
	picture = GFX_report_event_soviet_finnish_pact

	immediate = {
		log = "[THIS.GetTag]: firing = ryukyu.16"
	}
	
	is_triggered_only = yes
	
	option = {
		name = ryukyu.16.a 
		log = "option:		name = ryukyu.16.a "
		ai_chance = { factor = 100 }
		create_production_license = {
			target = RYU
			equipment = {
				type = infantry_equipment_rifle_1
			}
			cost_factor = 0
		}
		RYU = { country_event = { id = ryukyu.18 days = 12 } }	
	}
}

country_event = {
	id = ryukyu.17
	title = ryukyu.17.t
	desc = ryukyu.17.d
	picture = GFX_report_event_soviet_finnish_pact

	immediate = {
		log = "[THIS.GetTag]: firing = ryukyu.17"
	}
	
	is_triggered_only = yes
	
	immediate = {
		log = "[THIS.GetTag]: firing = ryukyu.17"
		hidden_effect = {
			RYU = {
				set_technology = {
					tech_infantry_colonial_marines = 1
				}
			}
		}
	}
	
	option = {
		name = ryukyu.17.a 
		log = "option:		name = ryukyu.17.a "
		ai_chance = { factor = 100 }
		set_country_flag = RYU_USA_support
		create_field_marshal = {
			name = "Matthew Calbraith Perry"
			#picture = ""
			traits = { offensive_doctrine career_officer }
			skill = 4
			attack_skill = 3
			defense_skill = 2
			planning_skill = 2
			logistics_skill = 4
		}
		hidden_effect = {
			division_template = {
				name = "US Marines"
				priority = 2
				division_names_group = RYU_SHO_MARINES_01
				regiments = {
					early_marine = { x = 0 y = 0 }
					early_marine = { x = 1 y = 0 }
				}
			}
			set_division_template_lock = {
				division_template = "US Marines"
				is_locked = yes
			}
		}
		526 ={
			create_unit = {
				division = "name = \"US Marines\" division_template = \"US Marines\" start_equipment_factor = 1 start_experience_factor = 2" 
				owner = RYU
				prioritize_location = 11932
			}
		}
		add_equipment_to_stockpile = {
			type = uniform_equipment_2
			amount = 1000
			producer = USA
		}
		capital_scope = {
			custom_effect_tooltip = afr_colonial_effect_tooltip
			state_event = { id = afr_rrp_racial_tension_increase.1 trigger_for = controller }
		}
		
		hidden_effect = {
			SAT = { country_event = { id = ryukyu.26 days = 3 } }
		}
	}
}

country_event = {
	id = ryukyu.18
	title = ryukyu.18.t
	desc = ryukyu.18.d
	picture = GFX_report_event_soviet_finnish_pact

	immediate = {
		log = "[THIS.GetTag]: firing = ryukyu.18"
	}
	
	is_triggered_only = yes
	
	option = {
		name = ryukyu.18.a 
		log = "option:		name = ryukyu.18.a "
		ai_chance = { factor = 100 }
		set_country_flag = RYU_FRA_support
		if = {
			limit = {
				FRA = {
					has_tech = rifle_equipment1
				}
			}
			add_equipment_to_stockpile = {
				type = infantry_equipment_rifle_1
				amount = 1000
				producer = FRA
			}
		}
		capital_scope = {
			custom_effect_tooltip = afr_colonial_effect_tooltip
			state_event = { id = afr_rrp_racial_tension_increase.1 trigger_for = controller }
		}
		
		hidden_effect = {
			SAT = { country_event = { id = ryukyu.28 days = 3 } }
		}
	}
}

country_event = {
	id = ryukyu.19
	title = ryukyu.19.t
	desc = ryukyu.19.d
	picture = GFX_report_event_soviet_finnish_pact

	immediate = {
		log = "[THIS.GetTag]: firing = ryukyu.19"
	}
	
	is_triggered_only = yes
	
	option = {
		name = ryukyu.19.a 
		log = "option:		name = ryukyu.19.a "
		ai_chance = { factor = 100 }
		ENG = {
			create_production_license = {
				target = RYU
				equipment = {
					type = ship_hull_corvette_1
				}
				cost_factor = 0
			}
		}
		RYU = { country_event = { id = ryukyu.20 days = 12 } }	
	}
}

country_event = {
	id = ryukyu.20
	title = ryukyu.20.t
	desc = ryukyu.20.d
	picture = GFX_report_event_soviet_finnish_pact

	immediate = {
		log = "[THIS.GetTag]: firing = ryukyu.20"
	}
	
	is_triggered_only = yes
	
	immediate = {
		log = "[THIS.GetTag]: firing = ryukyu.20"
		hidden_effect = {
			RYU = {
				create_equipment_variant = {
					name = "Corvette Class"
					type = ship_hull_corvette_0
					name_group = GER_CA_HISTORICAL
					parent_version = 0
					modules = {
						fixed_ship_battery_slot = ship_cannon_battery_0
						fixed_ship_fire_control_system_slot = fire_control_system_0
						fixed_ship_engine_slot = ship_engine_sail_screen_2
						fixed_ship_armor_slot = ship_armor_screen_hardwood_0
						mid_1_custom_slot = ship_cannon_battery_0
						front_1_custom_slot = ship_cannon_battery_0
					}
					#obsolete = no
				}
			}
		}
	}
	
	option = {
		name = ryukyu.20.a 
		log = "option:		name = ryukyu.20.a "
		ai_chance = { factor = 100 }
		set_country_flag = RYU_ENG_support
		create_navy_leader = {
			name = "William Abbot"
			#picture = ""
			traits = { superior_tactician }
			skill = 3
		}
		navy_experience = 50
		capital_scope = {
			custom_effect_tooltip = afr_colonial_effect_tooltip
			state_event = { id = afr_rrp_racial_tension_increase.1 trigger_for = controller }
		}
		
		hidden_effect = {
			SAT = { country_event = { id = ryukyu.28 days = 3 } }
		}
		hidden_effect = {
			if = {
				limit = { has_dlc = "Man the Guns" }
				load_oob = "RYU_coup_1857_mtg"
			}
			else = {
				load_oob = "RYU_coup_1857_legacy"
			}
		}
	}
}

country_event = {
	id = ryukyu.21
	title = ryukyu.21.t
	desc = ryukyu.21.d
	picture = GFX_report_event_soviet_finnish_pact

	immediate = {
		log = "[THIS.GetTag]: firing = ryukyu.21"
	}
	
	is_triggered_only = yes
	
	option = {
		name = ryukyu.21.a 
		log = "option:		name = ryukyu.21.a "
		ai_chance = { factor = 40 }
		trigger = {
			NOT = { has_global_flag = eoanb_gamerule_eastereggs_enabled }
		}
		set_country_flag = Oceania_ryukyuan_satsuma_loyalty_renewed_flag
		SAT = { country_event = { id = ryukyu.24 days = 2 } }
		add_ideas = RYU_foreigner_discrimination_laws
		custom_effect_tooltip = RYU_bernard_bettelheim_5a_tooltip
	}
	option = {
		name = ryukyu.21.b 
		log = "option:		name = ryukyu.21.b "
		ai_chance = { factor = 60 }
		trigger = {
			NOT = { has_global_flag = eoanb_gamerule_eastereggs_enabled }
		}
		set_country_flag = Oceania_ryukyuan_satsuma_loyalty_broken_flag
		ENG = { country_event = { id = ryukyu.9 days = 30 } }
		SAT = { country_event = { id = ryukyu.23 days = 2 } }
		custom_effect_tooltip = RYU_bernard_bettelheim_5b_tooltip
		capital_scope = {
			custom_effect_tooltip = afr_colonial_effect_tooltip
			state_event = { id = afr_rrp_racial_tension_increase.1 trigger_for = controller }
		}
	}
	
	option = {
		name = ryukyu.21.a 
		log = "option:		name = ryukyu.21.a "
		ai_chance = { factor = 0 }
		trigger = {
			has_global_flag = eoanb_gamerule_eastereggs_enabled
		}
		set_country_flag = Oceania_ryukyuan_satsuma_loyalty_renewed_flag
		SAT = { country_event = { id = ryukyu.24 days = 2 } }
		add_ideas = RYU_foreigner_discrimination_laws
		custom_effect_tooltip = RYU_bernard_bettelheim_5a_tooltip
	}
	option = {
		name = ryukyu.21.b 
		log = "option:		name = ryukyu.21.b "
		ai_chance = { factor = 100 }
		trigger = {
			has_global_flag = eoanb_gamerule_eastereggs_enabled
		}
		set_country_flag = Oceania_ryukyuan_satsuma_loyalty_broken_flag
		ENG = { country_event = { id = ryukyu.9 days = 30 } }
		SAT = { country_event = { id = ryukyu.23 days = 2 } }
		custom_effect_tooltip = RYU_bernard_bettelheim_5b_tooltip
		capital_scope = {
			custom_effect_tooltip = afr_colonial_effect_tooltip
			state_event = { id = afr_rrp_racial_tension_increase.1 trigger_for = controller }
		}
	}
	
}

country_event = {
	id = ryukyu.22
	title = ryukyu.22.t
	desc = ryukyu.22.d
	picture = GFX_report_event_soviet_finnish_pact

	immediate = {
		log = "[THIS.GetTag]: firing = ryukyu.22"
	}
	
	is_triggered_only = yes
	
	option = {
		name = ryukyu.22.a 
		log = "option:		name = ryukyu.22.a "
		ai_chance = { factor = 100 }
		set_country_flag = Oceania_ryukyuan_satsuma_loyalty_renewed_flag
		SAT = { country_event = { id = ryukyu.24 days = 2 } }
		add_ideas = RYU_foreigner_discrimination_laws
		custom_effect_tooltip = RYU_satsuma_anti_western_policy_tooltip
	}
}

country_event = {
	id = ryukyu.23
	title = ryukyu.23.t
	desc = ryukyu.23.d
	picture = GFX_report_event_soviet_finnish_pact

	immediate = {
		log = "[THIS.GetTag]: firing = ryukyu.23"
	}
	
	is_triggered_only = yes
	
	option = {
		name = ryukyu.23.a 
		log = "option:		name = ryukyu.23.a "
		ai_chance = { factor = 100 }
		RYU = { retire_country_leader = yes }
		hidden_effect = {
			RYU = {
				create_country_leader = {
					name = "Sanshikan Council"
					desc = "POLITICS_SANSHIKAN_COUNCIL_DESC"
					#picture = ""
					expire = "2100.1.1"
